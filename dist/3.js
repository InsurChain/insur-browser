webpackJsonp([3],{"6KkX":function(t,e){},MdVi:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("hRKE"),n=s.n(i),a=s("LYp2"),o=s("4HOK"),l=s("Keoy"),r=(s("LLaD"),s("Mpxz")),c={mixins:[{data:function(){return{location:[{name:"Silicon valley",position:{left:"152px",top:"235px"},details:{type:"zh"==this.$i18n.locale?"超级节点":"DPOS",region:"zh"==this.$i18n.locale?"硅谷":"Silicon valley",organization:"LinkVC",isShow:!1,position:{left:"100px",top:"120px"}}},{name:"Beijing",position:{left:"750px",top:"202px"},details:{type:this.$t("witness.dpos"),region:"zh"==this.$i18n.locale?"北京":"Beijing",organization:"zh"==this.$i18n.locale?"INSUR-猎户座":"INSUR-ORION",isShow:!1,position:{left:"560px",top:"150px"}}},{name:"Japan",position:{left:"815px",top:"215px"},details:{type:this.$t("witness.dpos"),region:"zh"==this.$i18n.locale?"日本":"Japan",organization:"Contract VC",isShow:!1,position:{left:"780px",top:"100px"}}},{name:"Singapore",position:{left:"745px",top:"327px"},details:{type:this.$t("witness.dpos"),region:"zh"==this.$i18n.locale?"新加坡":"Singapore",organization:"Bangshi Capital",isShow:!1,position:{left:"680px",top:"360px"}}},{name:"HongKong",position:{left:"752px",top:"250px"},details:{type:this.$t("witness.dpos"),region:"zh"==this.$i18n.locale?"香港":"HongKong",organization:"INSUR-HK",isShow:!1,position:{left:"560px",top:"220px"}}},{name:"HangZhou",position:{left:"762px",top:"230px"},details:{type:this.$t("witness.dpos"),region:"zh"==this.$i18n.locale?"杭州":"HangZhou",organization:"INSUR-SKY",isShow:!1,position:{left:"560px",top:"200px"}}}]}}}],data:function(){return{getWitnessData:[],getWitnessInfoData:[],received_msg:{},current_witness:"",current_witness_Info:{},changeItem:0,sendSocket:[],show:!0,fadeInDuration:500,fadeOutDuration:500,maxFadeDuration:1500,stop:!1,ws:null}},components:{Headers:a.a,Foot:o.a},mounted:function(){this.show=!1,this.ws=new WebSocket(r.c),this.getWitness();var t=this;t.ws.onopen=function(){t.ws.send('{"method":"call","params":[1,"login",["",""]],"id":1}'),t.ws.send('{"method":"call","params":[1,"history",[]],"id":4}'),t.ws.send('{"method":"call","params":[0,"set_subscribe_callback",[8,true]],"id":8}')},t.ws.onmessage=function(e){if(t.previous=0,t.received_msg=JSON.parse(e.data),"notice"==t.received_msg.method){for(var s=t.received_msg.params[1][0],i=0;i<s.length;i++)for(var a=0;a<t.getWitnessInfoData.length;a++)if(s[i].id==t.getWitnessInfoData[a].id){t.changeItem=a,t.getWitnessInfoData[a].last_confirmed_block_num=s[i].last_confirmed_block_num,t.getWitnessInfoData[a].total_missed=s[i].total_missed;break}}else if(1==t.received_msg.id&&"object"==n()(t.received_msg.result)){var o=JSON.parse(e.data).result;t.getWitnessInfoData.forEach(function(e,s){o.forEach(function(s,i){(e.witness_account=s.id)&&(t.getWitnessInfoData[i].name=s.name)})})}},setInterval(function(){t.previous++},1e3)},methods:{beforeEnter:function(t){t.style.opacity=0},enter:function(t,e){var s=this;Velocity(t,{opacity:1},{duration:this.fadeInDuration,complete:function(){e(),s.stop||(s.show=!1)}})},leave:function(t,e){var s=this;Velocity(t,{opacity:0},{duration:this.fadeOutDuration,complete:function(){e(),s.show=!0}})},showTips:function(t){this.location[t].details.isShow=!0},hideTips:function(t){this.location[t].details.isShow=!1},getWitness:function(){var t=this;l.a.blockMsg({id:1,method:"call",params:[0,"get_global_properties",[]]}).then(function(e){t.getWitnessData=e.result.active_witnesses,t.getWitnessInfo(t.getWitnessData)})},addClass:function(t,e){var s=t.className;added=s+(""!=s?" ":"")+e,t.className=added},getWitnessInfo:function(t){var e=this,s=this;l.a.blockMsg({id:1,method:"call",params:[0,"get_witnesses",[t]]}).then(function(t){s.getWitnessInfoData=t.result;var i="";s.getWitnessInfoData.forEach(function(t,e){i+=',"'+t.witness_account+'"'}),i=i.substring(1),e.sendSocket=['{"id":1,"method":"call","params":[1,"login",["",""]]}','{"method":"call","params":[1,"history",[]],"id":4}','{"id":1, "method":"call", "params":[0,"get_accounts",[['+i+"]]]}"],e.ws.send('{"id":1, "method":"call", "params":[0,"get_accounts",[['+i+"]]]}")})}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Headers"),t._v(" "),i("div",{staticClass:"block warp1000"},[i("h2",{staticClass:"title"},[t._v("\n            "+t._s(t.$t("witness.title"))+"\n        ")]),t._v(" "),i("div",{staticClass:"witness"},[i("img",{attrs:{width:"100%",src:s("hpmU"),alt:""}}),t._v(" "),i("p",{staticClass:"pos"}),t._l(t.location,function(e,s){return i("div",{key:s,on:{mouseover:function(e){t.showTips(s)},mouseout:function(e){t.hideTips(s)}}},[i("transition",{attrs:{css:!1},on:{"before-enter":t.beforeEnter,enter:t.enter,leave:t.leave}},[t.show?i("div",{staticClass:"breathe-btn",style:e.position}):t._e()]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.details.isShow,expression:"item.details.isShow"}],staticClass:"tips",style:e.details.position},[i("p",[t._v(t._s(t.$t("witness.nodeType"))+": "+t._s(e.details.type))]),t._v(" "),i("p",[t._v(t._s(t.$t("witness.nodeRegion"))+": "+t._s(e.details.region))]),t._v(" "),i("p",[t._v(t._s(t.$t("witness.organization"))+": "+t._s(e.details.organization))])])],1)}),t._v(" "),i("p")],2),t._v(" "),i("div",{staticClass:"table_box"},[i("table",{attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[i("thead",[i("tr",[i("th",[t._v(t._s(t.$t("witness.tableHead.Witnsss")))]),t._v(" "),i("th",[t._v(t._s(t.$t("witness.tableHead.ConfirmedBlock")))]),t._v(" "),i("th",[t._v(t._s(t.$t("witness.tableHead.Votes")))]),t._v(" "),i("th",[t._v(t._s(t.$t("witness.tableHead.Missed")))])])]),t._v(" "),i("tbody",t._l(t.getWitnessInfoData,function(e,s){return i("tr",{key:s,ref:"mybox",refInFor:!0,class:{trHover:s%2==0,trChange:s==t.changeItem}},[i("td",[i("router-link",{attrs:{to:"/Account/"+e.name+"/1"}},[i("a",{attrs:{href:"javaScript:;"}},[t._v(t._s(e.name))])])],1),t._v(" "),i("td",[t._v(t._s(e.last_confirmed_block_num))]),t._v(" "),i("td",[i("a",{attrs:{href:"javaScript:;"}},[t._v(t._s(e.total_votes))])]),t._v(" "),i("td",[i("a",{attrs:{href:"javaScript:;"}},[t._v(t._s(e.total_missed))])])])}))])])]),t._v(" "),i("Foot")],1)},staticRenderFns:[]};var d=s("vSla")(c,p,!1,function(t){s("6KkX")},"data-v-e0e2ebde",null);e.default=d.exports},hpmU:function(t,e,s){t.exports=s.p+"static/img/witness.9c8ae18.jpg"}});